{% extends 'base.html.twig' %}

{% block title %}Tous les articles{% endblock %}

{% block importmap %}{{ importmap(['app', 'articles']) }}{% endblock %}

{% block body %}
    <section class="articles">
        <h1>Tous les articles</h1>
        <div class="cards">
            {% for article in articles %}
                <div class="card">
                    <a href="{{ path('app_article_show', {'slug': article.slug}) }}">
                        <img src="{{ asset('uploads/img/articles/' ~ article.mainImage) }}" class="img" alt="{{ article.mainImageAlt }}">
                    </a>
                    <div class="card-body">
                        <div class="categories">
                            {% for category in article.categories %}
                                <a class="cat" href="#">{{ category.title }}</a>
                            {% endfor %}
                        </div>
                        <h2 class="title">
                            <a href="{{ path('app_article_show', {'slug': article.slug}) }}">
                                {{ article.title }}
                            </a>
                        </h2>
                        <div class="meta">
                            Publié le {{ article.postedAt|date('d/m/Y') }}, par {{ article.author }}, {% if article.updatedAt is not empty %} mis à jour le {{ article.updatedAt|date('d/m/Y') }}{% endif %}
                        </div>
                        <div class="text">{{ article.intro|raw }}</div>
                        {# <a href="{{ path('app_article_show', {'slug': article.slug}) }}" class="btn-show">Voir</a> #}
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="navigation">
            {{ knp_pagination_render(articles) }}
        </div>
    </section>
{% endblock %}
